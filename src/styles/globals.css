@import './theme.css';

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body,
#root {
  margin: 0;
  padding: 0;
  height: 100%;
}

body {
  font-family: var(--font-sans);
  background: radial-gradient(circle at top, var(--color-bg-soft), var(--color-bg));
  color: var(--color-fg);
  -webkit-font-smoothing: antialiased;
  overflow-x: hidden;
}

.app-root {
  min-height: 100vh;
  position: relative;
}

.app-main {
  scroll-snap-type: y mandatory;
}
.chapter {
  scroll-snap-align: start;
}

/* ==============
   3D CANVAS LAYER
   ============== */
.global-scene {
  position: fixed;
  inset: 0;
  z-index: 0;
}

.global-scene::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background: radial-gradient(
    circle at top,
    rgba(15, 23, 42, 0) 0%,
    rgba(15, 23, 42, 0.25) 55%,
    rgba(15, 23, 42, 0.7) 100%
  );
  mix-blend-mode: soft-light;
}

/* HTML layer */
.app-main {
  position: relative;
  z-index: 1;
}

/* Tiap “page” = 1 layar */
.chapter {
  min-height: 100vh;
  width: 100%;
  scroll-margin-top: 18vh; /* biar scrollIntoView nggak ketutup HUD */
}

/* ==========
   HUD (fixed)
   ========== */
.hud {
  position: fixed;
  top: clamp(1.15rem, 3vh, 2rem);
  left: clamp(1.25rem, 6vw, 3rem);
  right: clamp(1.25rem, 6vw, 3rem);
  z-index: 20;
  pointer-events: none;
}

.hud-top {
  max-width: 780px;
}

.hud-eyebrow {
  font-size: 0.95rem;
  letter-spacing: 0.2em;
  opacity: 0.65;
  margin-bottom: 0.35rem;
  text-transform: uppercase;
}

.hud-title {
  /* ✅ sedikit dikecilkan */
  font-size: clamp(2.55rem, 4.2vw, 3.15rem);
  font-weight: 700;
  line-height: 1.05;
  text-transform: uppercase;
  text-shadow: 0 2px 22px rgba(0, 0, 0, 0.55);
}

.hud-line {
  margin-top: 0.85rem;
  max-width: 780px;
  font-size: clamp(1.25rem, 2vw, 1.6rem);
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  gap: 0.6rem;
  text-shadow: 0 2px 18px rgba(0, 0, 0, 0.55);
}

.hud-line-main {
  font-weight: 700;
}

.hud-line-sep {
  opacity: 0.6;
}

.hud-line-sub {
  font-weight: 400;
  opacity: 0.92;
}

/* =====================
   Panel teks kiri-bawah
   ===================== */
.chapter-panel {
  position: fixed;
  left: clamp(1.25rem, 6vw, 3rem);
  bottom: clamp(1.1rem, 4vh, 2.2rem);
  z-index: 20;

  width: min(560px, calc(100vw - 2.5rem));
  padding: 1.05rem 1.15rem;

  border-radius: 18px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(2, 6, 23, 0.55);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.35);
}

.chapter-panel-text {
  margin: 0;
  font-size: 1.02rem; /* closing juga ikut rapi & lebih kecil dari judul */
  line-height: 1.55;
  opacity: 0.92;
}

.chapter-panel-text + .chapter-panel-text {
  margin-top: 0.75rem;
}

.chapter-panel-hint {
  margin: 0.85rem 0 0;
  font-size: 0.95rem;
  opacity: 0.8;
}

/* ==========================
   Nama penerima kanan bawah
   ========================== */
.recipient-tag {
  position: fixed;
  right: clamp(1.25rem, 6vw, 3rem);
  bottom: clamp(1rem, 4vh, 2.2rem);
  z-index: 20;

  /* ✅ diperbesar lagi */
  font-size: clamp(1.15rem, 1.7vw, 1.45rem);
  letter-spacing: 0.45em;
  font-weight: 500;
  text-transform: uppercase;
  opacity: 0.92;
  white-space: nowrap;
  pointer-events: none;
  text-shadow: 0 2px 18px rgba(0, 0, 0, 0.55);
}

/* ==========
   Nav buttons
   ========== */
.nav-buttons {
  position: fixed;
  right: clamp(0.9rem, 3vw, 1.5rem);
  bottom: clamp(2rem, 8vh, 3.5rem);
  display: flex;
  flex-direction: column;
  gap: 0.55rem;
  z-index: 30;
}

.nav-btn {
  width: 46px;
  height: 46px;
  border-radius: 9999px;
  border: 1px solid rgba(255, 255, 255, 0.14);
  background: rgba(2, 6, 23, 0.6);
  color: #f9fafb;
  font-size: 1.25rem;
  cursor: pointer;

  display: flex;
  align-items: center;
  justify-content: center;

  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);

  transition: transform 160ms ease, background 160ms ease;
}

.nav-btn:hover:not(:disabled) {
  transform: translateY(-1px);
  background: rgba(15, 23, 42, 0.72);
}

.nav-btn:disabled {
  opacity: 0.45;
  cursor: default;
  transform: none;
}

@media (max-width: 768px) {
  .hud {
    left: 1.25rem;
    right: 1.25rem;
  }

  .chapter-panel {
    left: 1.25rem;
    width: calc(100vw - 2.5rem);
  }

  .recipient-tag {
    right: 1.25rem;
    bottom: 1.1rem;
    letter-spacing: 0.35em;
  }
}
