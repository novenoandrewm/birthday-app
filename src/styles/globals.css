@import './theme.css';

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body,
#root {
  margin: 0;
  padding: 0;
  height: 100%;
}

body {
  font-family: var(--font-sans);
  background: radial-gradient(circle at top, var(--color-bg-soft), var(--color-bg));
  color: var(--color-fg);
  -webkit-font-smoothing: antialiased;
}

.app-root {
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/* =========================
   CANVAS 3D DI LAYER BAWAH
   ========================= */

.global-scene {
  position: fixed;
  inset: 0;
  z-index: 0;
}

/* Vignette halus di atas canvas */
.global-scene::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(
      circle at top,
      rgba(15, 23, 42, 0) 0%,
      rgba(15, 23, 42, 0.25) 55%,
      rgba(15, 23, 42, 0.7) 100%
    );
  mix-blend-mode: soft-light;
}

/* Konten HTML di layer atas: cuma rail scroll */
.app-main {
  position: relative;
  z-index: 1;
  min-height: 300vh; /* cukup tinggi untuk beberapa chapter */
  scroll-behavior: smooth;
}

/* =========================
   SECTION GENERIC (kalau nanti dipakai)
   ========================= */

.section {
  padding: 6rem 1.5rem;
  max-width: 780px;
  margin: 0 auto;
}

.section + .section {
  border-top: 1px solid var(--color-border-soft);
}

.section-title {
  font-size: clamp(2rem, 3vw, 2.6rem);
  margin: 0 0 1rem;
}

.section-title-inline {
  display: flex;
  align-items: baseline;
  gap: 0.6rem;
}

.section-title-main {
  /* “Part 1” */
  font-weight: 700;
}

.section-title-separator {
  font-weight: 400;
}

.section-title-sub {
  /* “fill it yourself” */
  font-weight: 400;
}

.section-text {
  line-height: 1.7;
  font-size: 1rem;
  opacity: 0.9;
}

.section-eyebrow {
  text-transform: uppercase;
  letter-spacing: 0.18em;
  font-size: 0.75rem;
  margin-bottom: 0.75rem;
  opacity: 0.8;
}

/* =========================
   HERO – SPACER + OVERLAY FIXED
   ========================= */

/* Section kosong hanya untuk memberi 1 layar tinggi pertama */
.hero-shell {
  height: 100vh;
}

/* Overlay teks fixed kiri atas (tidak ikut scroll) */
.hero-overlay {
  position: fixed;
  top: clamp(1.4rem, 4vh, 2.4rem);      /* sedikit lebih naik */
  left: clamp(1.75rem, 8vw, 4rem);
  max-width: 560px;
  padding: 0;
  margin: 0;
  pointer-events: none; /* biar canvas di belakang tetap bisa di-klik */
}

.hero-overlay-inner {
  position: relative;
}

/* Tiap chapter ditumpuk di posisi yang sama,
   opacity diatur via inline style dari React */
.hero-chapter {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  transition: opacity 0.45s ease-out;
}

/* Chapter pertama: semua teks 1 baris (selama muat) */
.hero-chapter--hero .hero-title,
.hero-chapter--hero .hero-eyebrow {
  white-space: nowrap;
}

/* Judul utama */
.hero-title {
  font-size: clamp(2.8rem, 4.8vw, 3.6rem);
  margin: 0;
}

/* Judul inline untuk Part 1 / Part 2 / Closing di overlay */
.hero-title--inline {
  display: flex;
  align-items: baseline;
  gap: 0.6rem;
  flex-wrap: wrap; /* biar kalau layar kecil masih boleh turun ke baris berikutnya */
}

.hero-title-main {
  font-weight: 700;
}

.hero-title-separator {
  opacity: 0.7;
}

.hero-title-sub {
  font-size: clamp(1.1rem, 2vw, 1.4rem);
  font-weight: 400;
  opacity: 0.9;
}

/* Eyebrow khusus di hero: BIRTHDAY MOMENT */
.hero-eyebrow {
  font-size: 1.2rem;           /* sebelumnya 0.75rem → dibesarkan */
  letter-spacing: 0.17em;      /* boleh agak rapat/longgar sesuai selera */
  margin-bottom: 0.05rem;       /* jarak ke HAPPY BIRTHDAY dipendekkan */
  opacity: 0.6;
}

/* Body text untuk chapter 2 dst */
.hero-body {
  margin-top: 1.25rem;
}

.hero-body .section-text + .section-text {
  margin-top: 0.75rem;
}

/* =========================
   TAG NAMA PENERIMA – POJOK KANAN BAWAH
   ========================= */

.hero-recipient-tag {
  position: fixed;
  right: clamp(1.5rem, 7vw, 3rem);
  bottom: clamp(1.0rem, 3.5vh, 2.0rem); /* lebih turun lagi agar benar-benar pojok */
  font-size: 1.2rem;                    /* diperbesar */
  letter-spacing: 0.4em;
  font-weight: 500;
  text-transform: uppercase;
  opacity: 0.85;
  white-space: nowrap;                  /* satu baris saja */
  pointer-events: none;
  transition: opacity 0.4s ease-out;
}

/* =========================
   CTA / BUTTON (opsional)
   ========================= */

.btn-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1.75rem;
  border-radius: 999px;
  border: 1px solid rgba(248, 113, 113, 0.7);
  background: radial-gradient(circle at top left, #fb7185, #be123c);
  color: #f9fafb;
  font-weight: 500;
  font-size: 0.95rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  cursor: pointer;
  transition:
    transform 160ms ease-out,
    box-shadow 160ms ease-out,
    filter 160ms ease-out;
  box-shadow: 0 18px 40px rgba(248, 113, 113, 0.32);
}

.btn-primary:hover {
  transform: translateY(-1px) scale(1.02);
  box-shadow: 0 24px 50px rgba(248, 113, 113, 0.45);
  filter: brightness(1.03);
}

.btn-primary:active {
  transform: translateY(0) scale(0.98);
  box-shadow: 0 14px 30px rgba(15, 23, 42, 0.9);
}

/* =========================
   ANIMASI SECTION GENERIC (kalau masih dipakai)
   ========================= */

.section.fade-in-up {
  opacity: 0;
  transform: translateY(16px);
  transition:
    opacity 420ms ease-out,
    transform 420ms ease-out;
}

.section.fade-in-up.is-visible {
  opacity: 1;
  transform: translateY(0);
}

/* =========================
   RESPONSIVE
   ========================= */

@media (max-width: 768px) {
  .hero-overlay {
    left: 1.5rem;
    right: 1.5rem;
    max-width: none;
  }

  .hero-title {
    font-size: clamp(2.2rem, 7vw, 2.6rem);
  }

  .hero-recipient-tag {
    font-size: 0.9rem;
    letter-spacing: 0.3em;
    right: 1.5rem;
    bottom: 0.9rem;
  }
}
